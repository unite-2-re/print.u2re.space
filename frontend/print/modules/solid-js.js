function e(e,t,n){o(s(e,t,0,B))}function t(e,t,n){n=n?Object.assign({},F,n):F;const i=s(e,t,1,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,o(i),r.bind(i)}function n(e){if(null===X)return e();const t=X;X=null;try{return e()}finally{X=t}}function r(){if(this.sources&&this.state)if(this.state===B)o(this);else{const e=W;W=null,l((()=>c(this)),0),W=e}if(X){const e=this.observers?this.observers.length:0;X.sources?(X.sources.push(this),X.sourceSlots.push(e)):(X.sources=[this],X.sourceSlots=[e]),this.observers?(this.observers.push(X),this.observerSlots.push(X.sources.length-1)):(this.observers=[X],this.observerSlots=[X.sources.length-1])}return this.value}function o(e){e.fn&&(a(e),((e,t,n)=>{let r;const o=U,s=X;X=U=e;try{r=e.fn(t)}catch(t){return e.pure&&(e.state=B,e.owned&&e.owned.forEach(a),e.owned=null),e.updatedAt=n+1,p(t)}finally{X=s,U=o}e.updatedAt&&e.updatedAt>n||(null!=e.updatedAt&&"observers"in e?((e,t)=>{e.comparator&&e.comparator(e.value,t)||(e.value=t,e.observers&&e.observers.length&&l((()=>{for(let t=0;e.observers.length>t;t+=1){const n=e.observers[t];n.state||(n.pure?W.push(n):Z.push(n),n.observers&&u(n)),n.state=B}if(W.length>1e6)throw W=[],Error()}),0))})(e,r):e.value=r,e.updatedAt=n)})(e,e.value,H))}function s(e,t,n,r=B,o){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:U,context:U?U.context:null,pure:n};return null===U||U!==z&&(U.owned?U.owned.push(s):U.owned=[s]),s}function i(e){if(0===e.state)return;if(e.state===q)return c(e);if(e.suspense&&n(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||H>e.updatedAt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===B)o(e);else if(e.state===q){const n=W;W=null,l((()=>c(e,t[0])),0),W=n}}function l(e,t){if(W)return e();let n=0;t||(W=[]),Z?n=1:Z=[],H++;try{const t=e();return(e=>{if(W&&(f(W),W=null),e)return;const t=Z;Z=null,t.length&&l((()=>V(t)),0)})(n),t}catch(e){n||(Z=null),W=null,p(e)}}function f(e){for(let t=0;e.length>t;t++)i(e[t])}function c(e,t){e.state=0;for(let n=0;e.sources.length>n;n+=1){const r=e.sources[n];if(r.sources){const e=r.state;e===B?r===t||r.updatedAt&&r.updatedAt>=H||i(r):e===q&&c(r,t)}}}function u(e){for(let t=0;e.observers.length>t;t+=1){const n=e.observers[t];n.state||(n.state=q,n.pure?W.push(n):Z.push(n),n.observers&&u(n))}}function a(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();r.length>n&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)a(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)a(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function p(e,t=U){const n=(e=>e instanceof Error?e:Error("string"==typeof e?e:"Unknown error",{cause:e}))(e);throw n}function $(){return 1}function d(e){return(e="function"==typeof e?e():e)?e:{}}function m(){for(let e=0,t=this.length;t>e;++e){const t=this[e]();if(void 0!==t)return t}}function y(e,t){const n=ee[e];return"object"==typeof n?n[t]?n.$:void 0:n}function g(e,t,r,o={}){let s;return((e,t)=>{const r=X,o=U,s=0===e.length,i=void 0===t?o:t,f=s?z:{owned:null,cleanups:null,context:i?i.context:null,owner:i},c=s?e:()=>e((()=>n((()=>a(f)))));U=f,X=null;try{return l(c,1)}finally{X=r,U=o}})((n=>{s=n,t===document?e():j(t,e(),t.firstChild?null:void 0,r)}),o.owner),()=>{s(),t.textContent=""}}function x(e,t=window.document){const n=t[oe]||(t[oe]=new Set);for(let r=0,o=e.length;o>r;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,A))}}function h(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function v(e,t,n,r){if(r)Array.isArray(n)?(e["$$"+t]=n[0],e[`$$${t}Data`]=n[1]):e["$$"+t]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n,"function"!=typeof n&&n)}function w(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let s,i;for(s=0,i=o.length;i>s;s++){const r=o[s];r&&"undefined"!==r&&!t[r]&&(S(e,r,0),delete n[r])}for(s=0,i=r.length;i>s;s++){const o=r[s],i=!!t[o];o&&"undefined"!==o&&n[o]!==i&&i&&(S(e,o,1),n[o]=i)}return n}function O(e,t,n){if(!t)return n?h(e,"style"):t;const r=e.style;if("string"==typeof t)return r.cssText=t;let o,s;for(s in"string"==typeof n&&(r.cssText=n=void 0),n||(n={}),t||(t={}),n)null==t[s]&&r.removeProperty(s),delete n[s];for(s in t)o=t[s],o!==n[s]&&(r.setProperty(s,o),n[s]=o);return n}function j(t,n,r,o){if(void 0===r||o||(o=[]),"function"!=typeof n)return E(t,n,o,r);e((e=>E(t,n(),e,r)),o)}function S(e,t,n){const r=t.trim().split(/\s+/);for(let t=0,o=r.length;o>t;t++)e.classList.toggle(r[t],n)}function k(e,t,n,r,o,s,i){let l,f,c,u,a;if("style"===t)return O(e,n,r);if("classList"===t)return w(e,n,r);if(n===r)return r;if("ref"===t)s||n(e);else if("on:"===t.slice(0,3)){const o=t.slice(3);r&&e.removeEventListener(o,r,"function"!=typeof r&&r),n&&e.addEventListener(o,n,"function"!=typeof n&&n)}else if("oncapture:"===t.slice(0,10)){const o=t.slice(10);r&&e.removeEventListener(o,r,1),n&&e.addEventListener(o,n,1)}else if("on"===t.slice(0,2)){const o=t.slice(2).toLowerCase(),s=te.has(o);!s&&r&&e.removeEventListener(o,Array.isArray(r)?r[0]:r),(s||n)&&(v(e,o,n,s),s&&x([o]))}else if("attr:"===t.slice(0,5))h(e,t.slice(5),n);else if("bool:"===t.slice(0,5))((e,t,n)=>{n?e.setAttribute(t,""):e.removeAttribute(t)})(e,t.slice(5),n);else if((a="prop:"===t.slice(0,5))||(c=Q.has(t))||!o&&((u=y(t,e.tagName))||(f=J.has(t)))||(l=e.nodeName.includes("-")||"is"in i))a&&(t=t.slice(5),f=1),"class"===t||"className"===t?((e,t)=>{null==t?e.removeAttribute("class"):e.className=t})(e,n):!l||f||c?e[u||t]=n:e[(p=t,p.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase())))]=n;else{const r=o&&t.indexOf(":")>-1&&re[t.split(":")[0]];r?b(e,r,t,n):h(e,Y[t]||t,n)}var p;return n}function A(e){let t=e.target;const n="$$"+e.type,r=e.target,o=e.currentTarget,s=t=>Object.defineProperty(e,"target",{configurable:1,value:t}),i=()=>{const r=t[n];if(r&&!t.disabled){const o=t[n+"Data"];if(void 0!==o?r.call(t,o,e):r.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&s(t.host),1},l=()=>{for(;i()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:1,get:()=>t||document}),e.composedPath){const n=e.composedPath();s(n[0]);for(let e=0;n.length-2>e&&(t=n[e],i());e++){if(t._$host){t=t._$host,l();break}if(t.parentNode===o)break}}else l();s(r)}function E(t,n,r,o,s){for(;"function"==typeof r;)r=r();if(n===r)return r;const i=typeof n,l=void 0!==o;if(t=l&&r[0]&&r[0].parentNode||t,"string"===i||"number"===i){if("number"===i&&(n=""+n)===r)return r;if(l){let e=r[0];e&&3===e.nodeType?e.data!==n&&(e.data=n):e=document.createTextNode(n),r=N(t,r,o,e)}else r=""!==r&&"string"==typeof r?t.firstChild.data=n:t.textContent=n}else if(null==n||"boolean"===i)r=N(t,r,o);else{if("function"===i)return e((()=>{let e=n();for(;"function"==typeof e;)e=e();r=E(t,e,r,o)})),()=>r;if(Array.isArray(n)){const i=[],f=r&&Array.isArray(r);if(_(i,n,r,s))return e((()=>r=E(t,i,r,o,1))),()=>r;if(0===i.length){if(r=N(t,r,o),l)return r}else f?0===r.length?P(t,i,o):((e,t,n)=>{let r=n.length,o=t.length,s=r,i=0,l=0,f=t[o-1].nextSibling,c=null;for(;o>i||s>l;)if(t[i]!==n[l]){for(;t[o-1]===n[s-1];)o--,s--;if(o===i){const t=r>s?l?n[l-1].nextSibling:n[s-l]:f;for(;s>l;)e.insertBefore(n[l++],t)}else if(s===l)for(;o>i;)c&&c.has(t[i])||t[i].remove(),i++;else if(t[i]===n[s-1]&&n[l]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(n[l++],t[i++].nextSibling),e.insertBefore(n[--s],r),t[o]=n[s]}else{if(!c){c=new Map;let e=l;for(;s>e;)c.set(n[e],e++)}const r=c.get(t[i]);if(null!=r)if(r>l&&s>r){let f,u=i,a=1;for(;++u<o&&s>u&&null!=(f=c.get(t[u]))&&f===r+a;)a++;if(a>r-l){const o=t[i];for(;r>l;)e.insertBefore(n[l++],o)}else e.replaceChild(n[l++],t[i++])}else i++;else t[i++].remove()}}else i++,l++})(t,r,i):(r&&N(t),P(t,i));r=i}else if(n.nodeType){if(Array.isArray(r)){if(l)return r=N(t,r,o,n);N(t,r,null,n)}else null!=r&&""!==r&&t.firstChild?t.replaceChild(n,t.firstChild):t.appendChild(n);r=n}}return r}function _(e,t,n,r){let o=0;for(let s=0,i=t.length;i>s;s++){let i,l=t[s],f=n&&n[e.length];if(null==l||1==l||0==l);else if("object"==(i=typeof l)&&l.nodeType)e.push(l);else if(Array.isArray(l))o=_(e,l,f)||o;else if("function"===i)if(r){for(;"function"==typeof l;)l=l();o=_(e,Array.isArray(l)?l:[l],Array.isArray(f)?f:[f])||o}else e.push(l),o=1;else{const t=l+"";e.push(f&&3===f.nodeType&&f.data===t?f:document.createTextNode(t))}}return o}function P(e,t,n=null){for(let r=0,o=t.length;o>r;r++)e.insertBefore(t[r],n)}function N(e,t,n,r){if(void 0===n)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=0;for(let s=t.length-1;s>=0;s--){const i=t[s];if(o!==i){const t=i.parentNode===e;r||s?t&&i.remove():t?e.replaceChild(o,i):e.insertBefore(o,n)}else r=1}}else e.insertBefore(o,n);return[o]}function C(e,t,n){const r=t.indexOf("<",n),o=t.slice(n,-1===r?void 0:r);/^\s*$/.test(o)||e.push({type:"text",content:o})}function M(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?(e=>{const t=[];for(const n of e)t.push(n.name+'="'+n.value.replace(/"/g,"&quot;")+'"');return t.length?" "+t.join(" "):""})(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(M,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.content+"--\x3e"}}function L(e,t,n,r){return"<"+t+n.replace(ye,T)+r}function T(e,t,n){return t.replace(/<!--#-->/g,"###")+('"'===n[0]||"'"===n[0]?n.replace(/<!--#-->/g,"###"):'"###"')}function D(e,t,n){return ce.test(t)?e:"<"+t+n+"></"+t+">"}function G(e,t,n,r){if("use:###"!==e||"###"!==t)throw Error(`Not support syntax ${e} must be use:{function}`);{const e=r.counter++;r.exprs.push(`typeof exprs[${e}] === "function" ? r.use(exprs[${e}], ${n}, exprs[${r.counter++}]) : (()=>{throw new Error("use:### must be a function")})()`)}}const I=Symbol(),R="function"==typeof Proxy,F={equals(e,t){return e===t}};let V=f;const B=1,q=2,z={owned:null,cleanups:null,context:null,owner:null};var U=null;let X=null,W=null,Z=null,H=0;const K={get:(e,t,n)=>t===I?n:e.get(t),has:(e,t)=>t===I?1:e.has(t),set:$,deleteProperty:$,getOwnPropertyDescriptor:(e,t)=>({configurable:1,enumerable:1,get:()=>e.get(t),set:$,deleteProperty:$}),ownKeys:e=>e.keys()},J=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),Q=new Set(["innerHTML","textContent","innerText","children"]),Y=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ee=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}}),te=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ne=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),re={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},oe="_$DX_DELEGATE",se=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,ie=/(?:\s(?<boolean>[^/\s><=]+?)(?=[\s/>]))|(?:(?<name>\S+?)(?:\s*=\s*(?:(['"])(?<quotedValue>[\s\S]*?)\3|(?<unquotedValue>[^\s>]+))))/g,le={area:1,base:1,br:1,col:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,menuitem:1,meta:1,param:1,source:1,track:1,wbr:1},fe=new Map,ce=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,ue=" \\f\\n\\r\\t",ae="[^"+ue+"\\/>\"'=]+",pe="[ "+ue+"]+(?:use:\x3c!--#--\x3e|"+ae+")",$e="<([A-Za-z$#]+[A-Za-z0-9:_-]*)((?:",de="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|\\([^)]*?\\)|<[^>]*?>|"+ae+"))?)",me=RegExp($e+pe+de+"+)([ "+ue+"]*/?>)","g"),ye=RegExp("("+pe+"\\s*=\\s*)(\x3c!--#--\x3e|['\"(]([\\w\\s]*\x3c!--#--\x3e[\\w\\s]*)*['\")])","gi"),ge=RegExp($e+pe+de+"*)([ "+ue+"]*/>)","g"),xe="\x3c!--#--\x3e",he=new Set(["class","on","oncapture","style","use","prop","attr"]),be=((e,{delegateEvents:t=1,functionBuilder:n=(...e)=>Function(...e)}={})=>{function r(n,r,o,s,i,f,c){if("on"===o.slice(0,2))if(o.includes(":")){let e=o.startsWith("oncapture:");c.exprs.push(`${r}.addEventListener("${o.slice(e?10:3)}",exprs[${c.counter++}]${e?",true":""})`)}else{const n=o.slice(2).toLowerCase(),s=t&&e.DelegatedEvents.has(n);c.exprs.push(`r.addEventListener(${r},"${n}",exprs[${c.counter++}],${s})`),s&&c.delegatedEvents.add(n)}else if("ref"===o)c.exprs.push(`exprs[${c.counter++}](${r})`);else{const t=Object.assign({},c,{exprs:[]}),u=c.counter;if(((t,n,r,o,s,i,f)=>{let c,u,a="###"===o?`!doNotWrap ? exprs[${f.counter}]() : exprs[${f.counter++}]`:o.split("###").map(((e,t)=>t?` + (typeof exprs[${f.counter}] === "function" ? exprs[${f.counter}]() : exprs[${f.counter++}]) + "${e}"`:`"${e}"`)).join("");(c=r.split(":"))&&c[1]&&he.has(c[0])&&(r=c[1],u=c[0]);const p=e.ChildProperties.has(r),$=e.Properties.has(r);if("style"===r){const e="_$v"+l++;f.decl.push(e+"={}"),f.exprs.push(`r.style(${n},${a},${e})`)}else if("classList"===r){const e="_$v"+l++;f.decl.push(e+"={}"),f.exprs.push(`r.classList(${n},${a},${e})`)}else if("attr"!==u&&(p||!s&&(e.getPropAlias(r,t.name.toUpperCase())||$)||i||"prop"===u))!i||p||$||"prop"===u||(r=(e=>e.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase())))(r)),f.exprs.push(`${n}.${e.getPropAlias(r,t.name.toUpperCase())||r} = ${a}`);else{const t=s&&r.indexOf(":")>-1&&e.SVGNamespace[r.split(":")[0]];f.exprs.push(t?`r.setAttributeNS(${n},"${t}","${r}",${a})`:`r.setAttribute(${n},"${e.Aliases[r]||r}",${a})`)}})(n,r,o,s,i,f,t),c.decl.push(`_fn${u} = (${"###"===s?"doNotWrap":""}) => {\n${t.exprs.join(";\n")};\n}`),"###"===s)c.exprs.push(`typeof exprs[${u}] === "function" ? r.effect(_fn${u}) : _fn${u}(true)`);else{let e="";for(let n=u;t.counter>n;n++)n!==u&&(e+=" || "),e+=`typeof exprs[${n}] === "function"`;c.exprs.push(e+` ? r.effect(_fn${u}) : _fn${u}()`)}c.counter=t.counter,c.wrap=0}}function o(e){let t=[];for(const n of e)if(Array.isArray(n)){if(!n.length)continue;t.push(`r.wrapProps({${n.join(",")||""}})`)}else t.push(n);return t.length>1?`r.mergeProps(${t.join(",")})`:t[0]}function s(e,t){let n=[];const r=Object.keys(e.attrs),s=[n],f=t.counter++;for(let o=0;r.length>o;o++){const{type:r,name:i,value:f}=e.attrs[o];if("attr"===r)"###"===i?(s.push(`exprs[${t.counter++}]`),s.push(n=[])):n.push("###"===f?`${i}: exprs[${t.counter++}]`:`${i}: "${f}"`);else if("directive"===r){const e="_$el"+l++;t.decl.push(t.decl.length?`${e} = ${t.path}.${t.first?"firstChild":"nextSibling"}`:""),G(i,f,e,t)}}if(1===e.children.length&&"comment"===e.children[0].type&&"#"===e.children[0].content)n.push(`children: () => exprs[${t.counter++}]`);else if(e.children.length){const r={type:"fragment",children:e.children},o=Object.assign({},t,{first:1,decl:[],exprs:[],parent:0});i(r,o),n.push(`children: () => { ${o.exprs.join(";\n")}}`),t.templateId=o.templateId,t.counter=o.counter}let c;t.multi&&(c="_$el"+l++,t.decl.push(`${c} = ${t.path}.${t.first?"firstChild":"nextSibling"}`)),t.exprs.push(t.parent?`r.insert(${t.parent}, r.createComponent(exprs[${f}],${o(s)})${c?", "+c:""})`:`${t.fragment?"":"return "}r.createComponent(exprs[${f}],${o(s)})`),t.path=c,t.first=0}function i(t,n){if("fragment"===t.type){const e=[];t.children.forEach((t=>{if("tag"===t.type){if("###"===t.name){const r=Object.assign({},n,{first:1,fragment:1,decl:[],exprs:[]});return s(t,r),e.push(r.exprs[0]),n.counter=r.counter,void(n.templateId=r.templateId)}n.templateId++;const r=l,o=Object.assign({},n,{first:1,decl:[],exprs:[]});n.templateNodes.push([t]),i(t,o),e.push(`function() { ${o.decl.join(",\n")+";\n"+o.exprs.join(";\n")+`;\nreturn _$el${r};\n`}}()`),n.counter=o.counter,n.templateId=o.templateId}else if("text"===t.type)e.push(`"${t.content}"`);else if("comment"===t.type)if("#"===t.content)e.push(`exprs[${n.counter++}]`);else if(t.content)for(let r=0;r<t.content.split("###").length-1;r++)e.push(`exprs[${n.counter++}]`)})),n.exprs.push(`return [${e.join(", \n")}]`)}else if("tag"===t.type){const o="_$el"+l++,f=!n.decl.length,c=n.templateId;n.decl.push(f?"":`${o} = ${n.path}.${n.first?"firstChild":"nextSibling"}`);const u=e.SVGElements.has(t.name),a=t.name.includes("-")||t.attrs.some((e=>"is"===e.name));if(n.hasCustomElement=a,n.isImportNode=("img"===t.name||"iframe"===t.name)&&t.attrs.some((e=>"loading"===e.name&&"lazy"===e.value)),t.attrs.some((e=>"###"===e.name))){const e=[];let r="";const s=[];for(let i=0;t.attrs.length>i;i++){const{type:l,name:f,value:c}=t.attrs[i];if("attr"===l)if(c.includes("###")){let e=n.counter++;r+=`${f}: ${"ref"!==f?`typeof exprs[${e}] === "function" ? exprs[${e}]() : `:""}exprs[${e}],`}else"###"===f?(r.length&&(e.push(`()=>({${r}})`),r=""),e.push(`exprs[${n.counter++}]`)):s.push(t.attrs[i]);else"directive"===l&&G(f,c,o,n)}t.attrs=s,r.length&&e.push(`()=>({${r}})`),n.exprs.push(`r.spread(${o},${1===e.length?`typeof ${e[0]} === "function" ? r.mergeProps(${e[0]}) : ${e[0]}`:`r.mergeProps(${e.join(",")})`},${u},${!!t.children.length})`)}else for(let e=0;t.attrs.length>e;e++){const{type:s,name:i,value:l}=t.attrs[e];"directive"===s?(G(i,l,o,n),t.attrs.splice(e,1),e--):"attr"===s&&l.includes("###")&&(t.attrs.splice(e,1),e--,r(t,o,i,l,u,a,n))}n.path=o,n.first=0,((e,t)=>{const n=Object.assign({},t,{first:1,multi:0,parent:t.path});if(e.children.length>1)for(let t=0;e.children.length>t;t++){const r=e.children[t];if("comment"===r.type&&"#"===r.content||"tag"===r.type&&"###"===r.name){n.multi=1;break}}let r=0;for(;e.children.length>r;){const t=e.children[r];"###"!==t.name?(i(t,n),n.multi||"comment"!==t.type||"#"!==t.content?r++:e.children.splice(r,1)):(n.multi?(e.children[r]={type:"comment",content:"#"},r++):e.children.splice(r,1),s(t,n))}t.counter=n.counter,t.templateId=n.templateId,t.hasCustomElement=t.hasCustomElement||n.hasCustomElement,t.isImportNode=t.isImportNode||n.isImportNode})(t,n),f&&(n.decl[0]=n.hasCustomElement||n.isImportNode?`const ${o} = r.untrack(() => document.importNode(tmpls[${c}].content.firstChild, true))`:`const ${o} = tmpls[${c}].content.firstChild.cloneNode(true)`)}else if("text"===t.type){const e="_$el"+l++;n.decl.push(`${e} = ${n.path}.${n.first?"firstChild":"nextSibling"}`),n.path=e,n.first=0}else if("comment"===t.type){const e="_$el"+l++;n.decl.push(`${e} = ${n.path}.${n.first?"firstChild":"nextSibling"}`),"#"===t.content&&n.exprs.push(n.multi?`r.insert(${n.parent}, exprs[${n.counter++}], ${e})`:`r.insert(${n.parent}, exprs[${n.counter++}])`),n.path=e,n.first=0}}let l=1;return e.wrapProps=t=>{const n=Object.getOwnPropertyDescriptors(t);for(const r in n)"function"!=typeof n[r].value||n[r].value.length||e.dynamicProperty(t,r);return t},(t,...r)=>{const o=fe.get(t)||(function(t,n){let r=0,o="";for(;t.length-1>r;r++)o=o+t[r]+"\x3c!--#--\x3e";o+=t[r],o=[[ge,D],[/<(<!--#-->)/g,"<###"],[/\.\.\.(<!--#-->)/g,"###"],[me,L],[/>\n+\s*/g,">"],[/\n+\s*</g,"<"],[/\s+</g," <"],[/>\s+/g,"> "]].reduce(((e,t)=>e.replace(t[0],t[1])),o);const f=(e=>{const t=[];let n,r=-1;const o=[];return e.replace(se,((s,i)=>{const l="/"!==s.charAt(1),f="\x3c!--"===s.slice(0,4),c=i+s.length,u=e.charAt(c);let a;l&&!f&&(r++,n=(e=>{const t={type:"tag",name:"",voidElement:0,attrs:[],children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(le[n[1].toLowerCase()]||"/"===e.charAt(e.length-2))&&(t.voidElement=1),t.name.startsWith("!--"))){const t=e.indexOf("--\x3e");return{type:"comment",comment:-1!==t?e.slice(4,t):""}}const r=RegExp(ie);for(const n of e.matchAll(r))(n[1]||n[2]).startsWith("use:")?t.attrs.push({type:"directive",name:n[1]||n[2],value:n[4]||n[5]||""}):t.attrs.push({type:"attr",name:n[1]||n[2],value:n[4]||n[5]||""});return t})(s),!n.voidElement&&u&&"<"!==u&&C(n.children,e,c),0===r&&t.push(n),a=o[r-1],a&&a.children.push(n),o[r]=n),f&&((e,t)=>{const n=t.replace("\x3c!--","").replace("--\x3e","");/^\s*$/.test(n)||e.push({type:"comment",content:n})})(0>r?t:o[r].children,s),(f||!l||n.voidElement)&&(f||r--,"<"!==u&&u&&(a=-1===r?t:o[r].children,C(a,e,c)))})),t})(o),[c,u]=((t,n)=>{const r={path:"",decl:[],exprs:[],delegatedEvents:new Set,counter:0,first:1,multi:0,templateId:0,templateNodes:[]},o=l,f=t;let c;return t.length>1&&(t=[{type:"fragment",children:t}]),"###"===t[0].name?(c=1,s(t[0],r)):i(t[0],r),e.delegateEvents(Array.from(r.delegatedEvents)),[[f].concat(r.templateNodes).map((e=>e.reduce(((e,t)=>e+M("",t)),""))),n("tmpls","exprs","r",r.decl.join(",\n")+";\n"+r.exprs.join(";\n")+(c?"":`;\nreturn _$el${o};\n`))]})(f,n.funcBuilder),a=[];for(let e=0;c.length>e;e++){a.push(document.createElement("template")),a[e].innerHTML=c[e];const t=a[e].content.querySelectorAll("script,style");for(let n=0;t.length>n;n++){const r=t[n].firstChild?.data||"";if(r.indexOf(xe)>-1){const n=r.split(xe).reduce(((e,t,n)=>(n&&e.push(""),e.push(t),e)),[]);t[e].firstChild.replaceWith(...n)}}}return a[0].create=u,fe.set(t,a),a})(t,{funcBuilder:n});return o[0].create(o,r,e)}})({effect:e,style:O,insert:j,untrack:n,spread(t,r={},o,s){const i={};return s||e((()=>i.children=E(t,r.children,i.children))),e((()=>{return"function"==typeof r.ref&&(e=r.ref,o=t,n((()=>e(o,void 0))));var e,o})),e((()=>((e,t,n,r,o={},s=0)=>{t||(t={});for(const r in o)if(!(r in t)){if("children"===r)continue;o[r]=k(e,r,null,o[r],n,s,t)}for(const r in t)"children"!==r&&(o[r]=k(e,r,t[r],o[r],n,s,t))})(t,r,o,0,i,1))),i},createComponent(e,t){return n((()=>e(t||{})))},delegateEvents:x,classList:w,mergeProps(...e){let n=0;for(let r=0;e.length>r;r++){const o=e[r];n=n||!!o&&I in o,e[r]="function"==typeof o?(n=1,t(o)):o}if(R&&n)return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=d(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in d(e[n]))return 1;return 0},keys(){const t=[];for(let n=0;e.length>n;n++)t.push(...Object.keys(d(e[n])));return[...new Set(t)]}},K);const r={},o=Object.create(null);for(let t=e.length-1;t>=0;t--){const n=e[t];if(!n)continue;const s=Object.getOwnPropertyNames(n);for(let e=s.length-1;e>=0;e--){const t=s[e];if("__proto__"===t||"constructor"===t)continue;const i=Object.getOwnPropertyDescriptor(n,t);if(o[t]){const e=r[t];e&&(i.get?e.push(i.get.bind(n)):void 0!==i.value&&e.push((()=>i.value)))}else o[t]=i.get?{enumerable:1,configurable:1,get:m.bind(r[t]=[i.get.bind(n)])}:void 0!==i.value?i:void 0}}const s={},i=Object.keys(o);for(let e=i.length-1;e>=0;e--){const t=i[e],n=o[t];n&&n.get?Object.defineProperty(s,t,n):s[t]=n?n.value:void 0}return s},dynamicProperty(e,t){const n=e[t];return Object.defineProperty(e,t,{get:()=>n(),enumerable:1}),e},setAttribute:h,setAttributeNS:b,addEventListener:v,Aliases:Y,getPropAlias:y,Properties:J,ChildProperties:Q,DelegatedEvents:te,SVGElements:ne,SVGNamespace:re});export{be as h,g as r};